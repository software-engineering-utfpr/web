(window.webpackJsonpweb=window.webpackJsonpweb||[]).push([[0],{218:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAA1CAMAAABhhatlAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACbVBMVEUAAADMMzPXNTXXNTTWNTTXNTTXNTTXNTTXNjTXNDTXNDTVNTXVKyvWNjTXNTTXNTXXNzPXNTTZNjXbMzPXNjTXNDPYNjO/QEDYNTXcNzbXNTTYNTPXNjTeODfaNjXWNDTXNTXXNTTdNzbXNTTZNTXbNzfXNTTYNTTYNTTYNjTWNjTfQEDXNTPXNTP/VVXYNTXXNjbXNDTYNTXXNTTXNTTYNTTaNzbWNTTXNTTYNTTXNTTXNTTYNTXXNTXPMDDZOTnWNjTYNTTXNTXWNjbXNTTWNDT/AADXNTX/AADYNjbbNjXYNjbYNTXXNTXXNDTZNTTXNTTWNTXXNTPYOzvYNDTWNjPXNTPWNjTYNjLXNjPYNTXXNjbVNzfXNjTWNDTjOTnYNDTYNTTZNDTYNTTbNzbVKyvWNTPXNTPWMTHXNTPaNTXXNTTWNTXXNDTYNjXXNTXXNjXXNTTWNTPXNTXXNTTcNzbfODjeODfaNjXnPDv0QkH9RUX/Rkb6RETvPz/hOTnnOzv8RUX3Q0PgOTj2QkLwPz/7RUX3QkL5RET4Q0PzQUDrPj3qPT3MMTHrPT36Q0PoPDyIFBRZAACJFBTrPj7lOzppBwfyQUD+RUWGExPbNjXnPDzfODfGLi7HLi7ELS3bNzbfOTngOTnYNTT+RkZ4DQ16Dg7cNzdeAgJfAgLeODjZNjZvCQlwCgraNjbtPj3dODf7RETOMTGuJCTPMjL1QkLiOTnlOzv/RUXwQEDzQUHuPz/mPDveNzfiOjn1QUHkOjrpPTzsPj3xQEDdNzbhOTj5Q0P1QkHoPDvqPDz4Q0LtPz7vPz7kOzr////4npkJAAAAdHRSTlMABU2Uyez89+C0eisGdujHRtn+I4D4VQSb/v1ujv7+a1L+/vk1Du3+3HtjCO7fA0g5koLKweL+3PT24ZlcZRAbsLw/UcXWAqoBIf40iKDq/vVq1Q1OS67DQlpvEyqrSgmcqEnw/gypsx/a/uaWofdg7ft9kaCTyv8AAAABYktHRM702fL/AAAAB3RJTUUH4gIIECcPfnBnIgAAAmVJREFUOMt91PlfDGEcB/BvhYqI1bY6tdIuIhEJJVEsUe77PnNfH9a2Q3JlKWopYSms+yoRQu7c/5MZM8/M7M5Mn1/2+T7v185r9/k+3yFiCQkN69GzV3hEZO8+pElU334ADh5yHuY/okODtP8AmFzlbo7PkaMVQORAtcYAxyo5OcdPwBwro2UQ4k5yATllik9gnIik01xQqpIxWNQU65BKTpMzyalDBU2z2T2cTs5iWAjPw3GO040LI4jSR5qUR1fX1JyXiwv2URk0GrUy1nn5XLzE6npk0hiUM23w/k8D88sYS1n2Rqm64pVSJ224MY7GX5WKWq+ca9JW9gQy+6T1dYVvSFvOHMpxSusmhZsYT6SIZml9U+Fb0lbzJIq+7RbX/jtM70raaM+iMLBm3bsv6oOHrC2YTLmQz+nRY0GfPGX1M+TRlNQW+Rhbn7e1vWiVS198PtFUvNRviQcFfMemoV2fX2G60PBC/a977EUzBM60+l7rcDtSxNs0E2+02oFCh8izzLPdwepPii9mV3WO8t9Z3mKufNHTSkqDbrI7e16+MiXz8S6QqxGjGqKMBahSa2tpyUL1kC1ChZrr+dMOSAE6VCOIIksgF1vfK9yJxcHzvwQflF4s1bweluEj409YrmFHkV3qtD/Zlq59u6zAZ5G/IFGrtDL1q8jfsEqHabV4Kbv40dHLGrjEH5aryxZbtsBxOWt1mdbhu3C51+srbcAPjvuJWAOO2riJ41rCNxswbcGvLmw1UsrD7z9IMOQydP7VPxMx20zbdziMeSewy1j5l9zuPd1wyN59Zd0w7T8QWP8D/X/I/ffSJ58AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTgtMDItMDhUMTY6Mzk6MTUrMDA6MDACErwoAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE4LTAyLTA4VDE2OjM5OjE1KzAwOjAwc08ElAAAAABJRU5ErkJggg=="},262:function(e,t,a){e.exports=a.p+"static/media/logo.6ba962ff.png"},316:function(e,t,a){},339:function(e,t,a){e.exports=a(715)},344:function(e,t,a){},415:function(e,t,a){},421:function(e,t,a){e.exports=a.p+"static/media/background.0a4c0cca.jpg"},422:function(e,t,a){e.exports=a.p+"static/media/right.b57ee7ca.svg"},512:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},540:function(e,t,a){},555:function(e,t,a){},696:function(e,t,a){},699:function(e,t,a){},704:function(e,t,a){},705:function(e,t,a){},706:function(e,t,a){},707:function(e,t,a){},708:function(e,t,a){},710:function(e,t,a){},715:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(10),o=a.n(i),l=(a(344),a(345),a(8)),c=a(34),m=a(103),s=a(333),u=a.n(s),d=a(9),p=a.n(d),f=(a(66),a(31)),g=(a(49),a(14)),E=(a(90),a(22)),y=(a(67),a(27)),h=(a(50),a(4)),b=(a(53),a(19)),v=(a(192),a(126)),O=a(13),D=(a(68),a(29)),j=a(18),w=a.n(j),k="blood_admin",P="blood_name",C="blood_id",T=function(){return localStorage.getItem("blood_token")},x=function(){return localStorage.getItem(k)},S=function(){return localStorage.getItem(C)},A=(a(373),a(144)),I=function(e,t){A.a.success({message:e||"DEU CERTO",description:t||"A\xe7\xe3o realizada com sucesso."})},N=function(e){e.response&&503===e.response.status?F():e.response&&401===e.response.status?z():R()},F=function(){A.a.error({message:"ERRO 503",description:"Servidor est\xe1 inacess\xedvel no momento, tente carregar a p\xe1gina novamente, se o erro persistir, entre em contato com o t\xe9cnico."})},z=function(){A.a.error({message:"ERRO 401",description:"Erro ao realizar a a\xe7\xe3o. Voc\xea n\xe3o tem permiss\xe3o para isto."})},R=function(){A.a.error({message:"ERRO",description:"Erro ao realizar esta a\xe7\xe3o. Mas n\xe3o entendemos direito o que houve, tente carregar a p\xe1gina novamente, se o erro persistir, entre em contato com o t\xe9cnico."})},L=(a(415),D.a.Title),M=D.a.Text,X=a(262),Y=a(421),B=a(422),q=E.a.create({name:"login"})(function(e){var t=e.form.getFieldDecorator,a=Object(n.useState)(!1),i=Object(O.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)(""),s=Object(O.a)(c,2),u=s[0],d=s[1];Object(n.useEffect)(function(){T()&&d("/home")},[]);return u?r.a.createElement(m.a,{to:u}):r.a.createElement(b.a,{className:"login-content",style:{backgroundImage:"url(".concat(Y,")")}},r.a.createElement(f.a,{className:"login-box",bodyStyle:{padding:40},bordered:!1},r.a.createElement(b.a,{style:{display:"flex"}},r.a.createElement("img",{style:{height:70,cursor:"auto",paddingRight:10,borderRight:"1px solid #E0E0DF"},src:X,alt:"Logo Rio do Campo Limpo"}),r.a.createElement(b.a,{style:{marginLeft:10}},r.a.createElement(L,{level:4,style:{fontWeight:500}}," Login "),r.a.createElement(M,{type:"secondary"}," Preencha as informa\xe7\xf5es para se logar. "))),r.a.createElement(E.a,{onSubmit:function(t){t.preventDefault(),l(!0),e.form.validateFields(function(e,t){if(e)l(!1);else{var a=t.email,n=t.password;w.a.post("/api/managers/login",{email:a,password:n}).then(function(e){var t,a,n,r;t=e.data.token,a=e.data.manager.name,n=e.data.manager.superuser,r=e.data.manager.id,localStorage.setItem("blood_token",t),localStorage.setItem(P,a),localStorage.setItem(k,n),localStorage.setItem(C,r);var i=v.a.loading("Bem-vindo ".concat(e.data.manager.name,"!! \ud83e\udd17"),0);setTimeout(i,1500),d("/home")}).catch(function(e){l(!1),N(e)})}})},className:"login-form",style:{marginTop:30}},r.a.createElement(E.a.Item,{label:"Email"},t("email",{rules:[{required:!0,message:"Por favor, digite um email!"},{type:"email",message:"Por favor, digite um email v\xe1lido!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"nome@exemplo.com",size:"large",style:{fontSize:13}}))),r.a.createElement(E.a.Item,{label:"Senha"},t("password",{rules:[{required:!0,message:"Por favor, insira uma senha!"},{min:8,message:"Por favor, insira uma senha maior que 7!"}]})(r.a.createElement(y.a.Password,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"senha",size:"large",style:{fontSize:13}}))),r.a.createElement(g.a,{shape:"round",loading:o,type:"primary",htmlType:"submit",style:{fontSize:12,padding:"0px 13px 0px 30px"}},r.a.createElement(M,{style:{color:"#FFF",fontWeight:500}}," Entrar ")," \xa0\xa0",r.a.createElement("img",{style:{height:12},src:B,alt:"Arrow Right"})))))}),U=(a(109),a(43)),_=(a(274),a(179)),W=(a(122),a(62)),V=(a(94),a(40)),G=(a(160),a(98)),Q=(a(58),a(24)),H=(a(216),a(83)),K=(a(161),a(97)),J=(a(502),a(189)),Z=(a(506),a(336)),$=(a(85),a(20)),ee=(a(217),a(88)),te=(a(509),a(337)),ae=(a(111),a(42)),ne=(a(512),a(262)),re=ee.a.Header,ie=D.a.Text,oe=Object(m.g)(function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)({name:"",image:"",email:""}),s=Object(O.a)(l,2),u=s[0],d=s[1],p=Object(n.useState)(!1),E=Object(O.a)(p,2),y=E[0],D=E[1];Object(n.useEffect)(function(){w.a.get("/api/managers/".concat(S())).then(function(e){d(e.data)}).catch(function(e){o("/"),N(e)})},[]);return i?r.a.createElement(m.a,{to:i}):r.a.createElement(te.a,{offsetTop:-100,onChange:function(e){return D(e)}},r.a.createElement(re,{className:y?"haccoon-header-affixed":"haccoon-header"},r.a.createElement(b.a,{className:"header-content"},r.a.createElement(c.b,{to:"/home"},r.a.createElement("img",{style:{height:y?45:55},src:ne,alt:"Logo Rio do Campo Limpo"})),r.a.createElement($.a,{className:"header-menu",selectedKeys:[e.page],mode:"horizontal"},r.a.createElement($.a.Item,{key:"home",style:{paddingRight:0,paddingLeft:40}},r.a.createElement(c.b,{to:"/home"},r.a.createElement(h.a,{type:"home",style:{margin:0}})," \xa0 Home")),r.a.createElement($.a.Item,{key:"calendario",style:{paddingRight:0}},r.a.createElement(c.b,{to:"/calendario"}," Calend\xe1rio ")),r.a.createElement($.a.SubMenu,{title:"Gerenciamento"},r.a.createElement($.a.ItemGroup,{title:"Usu\xe1rios"},r.a.createElement($.a.Item,{key:"app"},r.a.createElement(c.b,{to:"/usuarios-app"},r.a.createElement(h.a,{type:"tablet"}),r.a.createElement("span",null," Aplicativo "))),r.a.createElement($.a.Item,{key:"web"},r.a.createElement(c.b,{to:"/usuarios-web"},r.a.createElement(h.a,{type:"laptop"}),r.a.createElement("span",null," Web ")))),r.a.createElement($.a.Item,{key:"cartilha"},r.a.createElement(c.b,{to:"/cartilha"},r.a.createElement(h.a,{type:"question-circle"}),r.a.createElement("span",null," Cartilha "))),r.a.createElement($.a.Item,{key:"formulario"},r.a.createElement(c.b,{to:"/formulario"},r.a.createElement(h.a,{type:"form"}),r.a.createElement("span",null," Formul\xe1rio "))),r.a.createElement($.a.Item,{key:"jogos"},r.a.createElement(c.b,{to:"/jogos"},r.a.createElement(h.a,{type:"trophy"}),r.a.createElement("span",null," Jogos "))))),r.a.createElement(Q.a,{className:"header-outer-options"},r.a.createElement(V.a,{overlayClassName:"header-popover-card",placement:"bottomRight",content:r.a.createElement(f.a,{className:"card-width",style:{width:350},bordered:!1},r.a.createElement(f.a.Meta,{className:"header-card-info",style:{padding:"2rem 1rem",background:"#F3F5F9",margin:0},avatar:r.a.createElement(ae.a,{shape:"square",size:60,style:{filter:"grayscale(50%)"},src:u.image}),title:r.a.createElement(ie,{strong:!0}," ",u.name," "),description:r.a.createElement(ie,{type:"secondary",ellipsis:!0,style:{width:"100%"}}," ",u.email," ")}),r.a.createElement($.a,{className:"header-card-list-options",selectedKeys:[e.page]},r.a.createElement($.a.Item,{key:"perfil"},r.a.createElement(c.b,{to:"/edit/profile",replace:!0},r.a.createElement(f.a.Meta,{avatar:r.a.createElement(h.a,{style:{fontSize:20},type:"idcard"}),title:r.a.createElement(ie,{style:{fontSize:13}}," Meu Perfil "),description:r.a.createElement(ie,{type:"secondary",ellipsis:!0,style:{width:"100%",fontSize:11}}," Edite as suas Informa\xe7\xf5es de perfil e sua senha. ")}),r.a.createElement(h.a,{className:"header-card-right-icon",type:"right"}))),r.a.createElement($.a.Divider,null),r.a.createElement($.a.Item,{key:"configuracoes"},r.a.createElement(c.b,{to:"/configuracoes",replace:!0},r.a.createElement(f.a.Meta,{avatar:r.a.createElement(h.a,{style:{fontSize:20},type:"setting"}),title:r.a.createElement(ie,{style:{fontSize:13}}," Configura\xe7\xf5es "),description:r.a.createElement(ie,{type:"secondary",ellipsis:!0,style:{width:"100%",fontSize:11}}," Gerencie categorias e configure informa\xe7\xf5es do sistema. ")}),r.a.createElement(h.a,{className:"header-card-right-icon",type:"right"}))),r.a.createElement($.a.Divider,null)),r.a.createElement(g.a,{type:"danger",size:"small",icon:"frown",style:{margin:10},onClick:function(){var e=v.a.loading("Bye Bye \ud83d\udc4b",0);setTimeout(function(){setTimeout(e,1500),localStorage.removeItem("blood_token"),localStorage.removeItem(P),localStorage.removeItem(k),localStorage.removeItem(C),o("/")},1500)}}," Sair "))},r.a.createElement("span",{style:{marginLeft:10,fontSize:13,cursor:"pointer"}},r.a.createElement(ie,null," Ol\xe1, ")," ",r.a.createElement(ie,{className:"username",strong:!0}," ",u.name.replace(/ .*/,"")," "),r.a.createElement(ae.a,{shape:"square",size:y?40:45,style:{marginLeft:4},src:u.image})))))))}),le=(a(519),ee.a.Footer),ce=D.a.Text,me=function(e){return r.a.createElement(le,{style:{background:"#FAFCFE",padding:30,textAlign:"center"}},r.a.createElement(b.a,{className:"footer-redes-sociais"},r.a.createElement(Q.a,{span:12,style:{textAlign:"left",marginTop:20}},r.a.createElement(ce,{strong:!0,style:{color:"#2D2E2E",fontSize:11}}," \xa9 2019. "),r.a.createElement(ce,{style:{color:"#2D2E2E",fontSize:11}}," Rio do Campo Limpo ")),r.a.createElement(Q.a,{span:12,style:{textAlign:"right",marginTop:20}},r.a.createElement(V.a,{placement:"bottomRight",content:"Facebook"},r.a.createElement("a",{href:"https://www.facebook.com/ProjetoRiodoCampoLimpo/",rel:"noopener noreferrer",target:"_blank"},r.a.createElement(h.a,{style:{color:"#3B5998"},type:"facebook"}))),r.a.createElement(V.a,{placement:"bottomRight",content:"Instagram"},r.a.createElement("a",{href:"https://www.instagram.com/riodocampolimpocm/",rel:"noopener noreferrer",target:"_blank",style:{marginLeft:20}},r.a.createElement(h.a,{style:{color:"#E33F5F"},type:"instagram"}))))))},se=(a(520),ee.a.Content),ue=ee.a.Sider,de=D.a.Text,pe=function(e){var t=Object(n.useState)(""),a=Object(O.a)(t,2),i=a[0],o=a[1];return Object(n.useEffect)(function(){T()||o("/")},[]),i?r.a.createElement(m.a,{to:i}):r.a.createElement(ee.a,{style:{minHeight:"100vh"}},r.a.createElement(ue,{theme:"light",className:"mobile-menu",breakpoint:"lg",collapsedWidth:"0"},r.a.createElement($.a,{style:{paddingTop:90},selectedKeys:[e.page]},r.a.createElement($.a.Item,{key:"home"},r.a.createElement(c.b,{to:"/home"},r.a.createElement(h.a,{type:"home"}),r.a.createElement("span",null," Home "))),r.a.createElement($.a.Item,{key:"calendario"},r.a.createElement(c.b,{to:"/calendario"},r.a.createElement(h.a,{type:"calendar"}),r.a.createElement("span",null," Calend\xe1rio "))),r.a.createElement($.a.Item,{key:"app"},r.a.createElement(c.b,{to:"/usuarios-app"},r.a.createElement(h.a,{type:"tablet"}),r.a.createElement("span",null," Usu\xe1rios Aplicativo "))),r.a.createElement($.a.Item,{key:"web"},r.a.createElement(c.b,{to:"/usuarios-web"},r.a.createElement(h.a,{type:"laptop"}),r.a.createElement("span",null," Usu\xe1rios Web "))),r.a.createElement($.a.Item,{key:"cartilha"},r.a.createElement(c.b,{to:"/cartilha"},r.a.createElement(h.a,{type:"question-circle"}),r.a.createElement("span",null," Cartilha "))),r.a.createElement($.a.Item,{key:"formulario"},r.a.createElement(c.b,{to:"/formulario"},r.a.createElement(h.a,{type:"form"}),r.a.createElement("span",null," Formul\xe1rio "))),r.a.createElement($.a.Item,{key:"jogos"},r.a.createElement(c.b,{to:"/jogos"},r.a.createElement(h.a,{type:"trophy"}),r.a.createElement("span",null," Jogos "))))),r.a.createElement(ee.a,null,r.a.createElement(Z.a,{style:{bottom:100,right:70}}),r.a.createElement(oe,{page:e.page}),r.a.createElement(se,{className:"main-content"},r.a.createElement(K.a,{spinning:e.loading},r.a.createElement(Q.a,{span:20,push:2},r.a.createElement(b.a,{className:"menu-breadcrumb",style:{marginBottom:20,display:"flex"}},r.a.createElement(de,{style:{fontSize:16,fontWeight:500,marginRight:16}}," ",e.title," "),e.breadcrumb?r.a.createElement(J.a,{className:"main-layout-breadcrumb",separator:r.a.createElement("div",{className:"main-layout-breadcrumb-separator"})},r.a.createElement(J.a.Item,{style:{verticalAlign:"sub"}},r.a.createElement(c.b,{to:"/home"},r.a.createElement(h.a,{type:"home"}))),e.breadcrumb.map(function(e){return r.a.createElement(J.a.Item,{key:e,style:{cursor:"pointer",verticalAlign:"sub"}}," ",e," ")})):null),e.children))),r.a.createElement(me,null)))},fe=a(116),ge=a.n(fe);a(540);w.a.defaults.baseURL="https://rio-campo-limpo.herokuapp.com/";var Ee=D.a.Text,ye=D.a.Paragraph,he=a(218),be=function(e){var t=[{value:"pending",color:"#2F80ED",label:"Pendente"},{value:"aproved",color:"#00AD45",label:"Aprovada"},{value:"reproved",color:"#EB3B5A",label:"Reprovada"}],a=Object(n.useState)([]),i=Object(O.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)([]),s=Object(O.a)(c,2),u=s[0],d=s[1],E=Object(n.useState)([]),y=Object(O.a)(E,2),v=y[0],D=y[1],j=Object(n.useState)(!1),k=Object(O.a)(j,2),P=k[0],C=k[1],T=Object(n.useState)(!1),x=Object(O.a)(T,2),S=x[0],A=x[1],F=Object(n.useState)(""),z=Object(O.a)(F,2),R=z[0],L=z[1],M=Object(n.useState)([]),X=Object(O.a)(M,2),Y=X[0],B=X[1],q=Object(n.useState)({item:"",visibility:!1}),K=Object(O.a)(q,2),J=K[0],Z=K[1];Object(n.useEffect)(function(){C(!0);var e=Y.length?Y:["pending"];B(e),w.a.get("/api/occurrences").then(function(t){d(t.data),D(t.data.filter(function(t){return e.includes(t.status)})),C(!1)}).catch(function(e){C(!1),N(e)}),w.a.get("/api/users").then(function(e){l(e.data)})},[S]);var $=function(){return Z({visibility:!1,item:""})},ee=function(e){C(!0),w.a.put("/api/occurrences",{id:J.item._id,status:e}).then(function(e){$(),I(),A(!S)}).catch(function(e){C(!1),N(e)})};return R?r.a.createElement(m.a,{to:R}):r.a.createElement(pe,{page:"home",loading:P},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Ocorr\xeancias Registradas"),extra:r.a.createElement(g.a,{type:"primary",icon:"align-left",onClick:function(){return L("/ocorrencias")}}," Ver todas Ocorr\xeancias ")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24,style:{textAlign:"right"}},r.a.createElement(H.a.Group,{options:t,value:Y,onChange:function(e){D(u.filter(function(t){return e.includes(t.status)})),B(e)}}))),r.a.createElement(b.a,{style:{height:"80vh",width:"100%"}},r.a.createElement(ge.a,{bootstrapURLKeys:{key:"AIzaSyAwDqlhR0aPR6lYhzkE2nWdUz6ufbzStLk"},defaultCenter:{lat:-24.046,lng:-52.3838},defaultZoom:14},v.map(function(e){return r.a.createElement(V.a,{overlayClassName:"popover-minimal",overlayStyle:{width:300},key:e._id,title:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{style:{marginRight:8}}," #",e._id.substring(6)," "),r.a.createElement(G.a,{color:t[t.map(function(e){return e.value}).indexOf(e.status)].color}," ",t[t.map(function(e){return e.value}).indexOf(e.status)].label," ")),content:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{style:{fontStyle:"italic"},type:"secondary"},"Ocorr\xeancia realizada ",p()(e.date).fromNow()),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Ee,{strong:!0},"Endere\xe7o: "),r.a.createElement(Ee,null,e.location.address?"".concat(e.location.address,", "):"",e.location.number?"n\xba ".concat(e.location.number,". "):"",e.location.cep?"(".concat(e.location.cep,")"):""),e.location.referencePoint&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Ee,{strong:!0},"Refer\xeancia: "),r.a.createElement(Ee,null,e.location.referencePoint)),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Ee,{strong:!0},"Usu\xe1rio: "),r.a.createElement(Ee,null,o.length>0&&o[o.map(function(e){return e._id}).indexOf(e.user)].name)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.a,{type:"link",onClick:function(){return function(e){return Z({visibility:!0,item:e})}(e)}}," Ver mais informa\xe7\xf5es ")),lat:e.location.latitude,lng:e.location.longitude},r.a.createElement("img",{src:he,className:"img-icon",alt:"map-pin"}))})))),r.a.createElement(U.a,{className:"modal-details",visible:J.visibility,onCancel:$,centered:!0,footer:null},r.a.createElement(ye,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," #",J.item._id," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:"environment"})),r.a.createElement(b.a,{style:{marginTop:40}},J.item&&J.item.date&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{strong:!0},"Realizada em: "),r.a.createElement(Ee,null,p()(J.item.date).format("DD [de] MMMM [de] YYYY")),r.a.createElement("br",null)),J.item&&J.item.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{strong:!0},"Usu\xe1rio: "),r.a.createElement(Ee,null,o.length>0&&o[o.map(function(e){return e._id}).indexOf(J.item.user)].name," "," ","[",o.length>0&&o[o.map(function(e){return e._id}).indexOf(J.item.user)].phone,"]"),r.a.createElement("br",null)),J.item.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{strong:!0},"Descri\xe7\xe3o: "),r.a.createElement(Ee,null,J.item.description),r.a.createElement("br",null)),J.item.location&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,{strong:!0},"Endere\xe7o: "),r.a.createElement(Ee,null,J.item.location.address?"".concat(J.item.location.address,", "):"",J.item.location.number?"n\xba ".concat(J.item.location.number,". "):"",J.item.location.cep?"(".concat(J.item.location.cep,")"):"")),J.item.location&&J.item.location.referencePoint&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Ee,{strong:!0},"Refer\xeancia: "),r.a.createElement(Ee,null,J.item.location.referencePoint)),J.item&&r.a.createElement(_.a,{style:{marginTop:30}},J.item.photos.map(function(e){return r.a.createElement("img",{key:e,className:"image-carousel",alt:e,src:e})}),J.item.video&&r.a.createElement("video",{onClick:function(e){return e.target.play()},className:"image-carousel video"},r.a.createElement("source",{src:J.item.video,type:"video/mp4"})))),J.item&&"pending"===J.item.status&&r.a.createElement(b.a,{type:"flex",justify:"end",style:{marginTop:36}},r.a.createElement(g.a,{onClick:function(){return ee("reproved")},type:"danger",style:{marginRight:10}}," Reprovar "),r.a.createElement(g.a,{onClick:function(){return ee("aproved")},type:"primary"}," Aprovar "))))},ve=(a(319),a(182)),Oe=(a(283),a(185)),De=a(69);a(555);function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function we(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ke=D.a.Paragraph,Pe=E.a.create({name:"Profile"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.setFieldsValue,o=t.getFieldValue,l=t.validateFields,c=Object(n.useState)(!0),m=Object(O.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)("info"),p=Object(O.a)(d,2),D=p[0],j=p[1],k=Object(n.useState)({}),P=Object(O.a)(k,2),C=P[0],T=P[1],A=Object(n.useState)([]),F=Object(O.a)(A,2),z=F[0],R=F[1],L=Object(n.useState)({profilePhoto:[],newProfilePhoto:[],loading:!1}),M=Object(O.a)(L,2),X=M[0],Y=M[1],B=Object(n.useState)(!1),q=Object(O.a)(B,2),U=q[0],_=q[1],W=Object(n.useState)(!1),G=Object(O.a)(W,2),H=G[0],K=G[1];Object(n.useEffect)(function(){u(!0),w.a.get("/api/managers/").then(function(e){var t=e.data[e.data.map(function(e){return e._id}).indexOf(S())];T(t),R(e.data),Y({loading:!1,profilePhoto:t.image,newProfilePhoto:[]}),u(!1)}).catch(function(e){u(!1),N(e)})},[H]);var J=function(){i({name:C.name,email:C.email,password:"",confirmPassword:""})};return r.a.createElement(pe,{page:"Perfil",loading:s,title:"Pefil do Usu\xe1rio",breadcrumb:["Meu Perfil"]},r.a.createElement(b.a,{gutter:16},r.a.createElement(Q.a,{lg:7,md:10,sm:15,style:{marginTop:30}},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5}},"true"===x()?r.a.createElement(Oe.a,{count:r.a.createElement(V.a,{placement:"right",content:"Administrador"}," ",r.a.createElement(h.a,{type:"star",theme:"filled",style:{color:"#FFFFFF",background:"#5ECC62",borderRadius:"50%",padding:8,marginTop:10,marginRight:10}})," ")},r.a.createElement(ae.a,{shape:"square",style:{width:"100%",height:"auto"},src:0===X.newProfilePhoto.length?X.profilePhoto:X.newProfilePhoto})):r.a.createElement(ae.a,{shape:"square",style:{width:"100%",height:"auto"},src:0===X.newProfilePhoto.length?X.profilePhoto:X.newProfilePhoto}),r.a.createElement(ke,{style:{fontSize:21,marginTop:10,marginBottom:0},ellipsis:!0,strong:!0}," ",C.name," "),r.a.createElement(ke,{style:{fontSize:14,marginBottom:0},ellipsis:!0,type:"secondary"}," ",C.email," "),r.a.createElement($.a,{style:{width:"100%",marginTop:20},defaultSelectedKeys:[D],onClick:function(e){return j(e.key)}},r.a.createElement($.a.Item,{key:"info"},r.a.createElement(h.a,{type:"idcard"})," Informa\xe7\xf5es B\xe1sicas"),r.a.createElement($.a.Item,{key:"password"},r.a.createElement(h.a,{type:"lock"})," Mudar Senha")))),r.a.createElement(Q.a,{lg:17,md:14,sm:24,style:{marginTop:30}},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"smile",style:{marginRight:6,color:"#00AD45"}})," ","info"===D?"Minhas Informa\xe7\xf5es":"Minha Senha")},"info"===D?r.a.createElement(E.a,{onSubmit:function(e){_(!0),e.preventDefault(),l(["name","email"],function(e,t){if(e)_(!1);else{var a=t.name,n=t.email;w.a.put("/api/managers",{id:C._id,name:a,email:n,superuser:""}).then(function(e){K(!H),_(!1),I()}).catch(function(e){_(!1),N(e)})}})},className:"profile-form",layout:"inline",style:{width:"100%",display:"inline-grid"},wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},r.a.createElement(E.a.Item,{label:"Foto de Perfil"},a("profilePhoto")(r.a.createElement(b.a,null,r.a.createElement(ae.a,{shape:"square",size:200,src:0===X.newProfilePhoto.length?X.profilePhoto:X.newProfilePhoto}),r.a.createElement(ve.a,{beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type?(Y(we({},X,{newProfilePhoto:[e]})),!0):(v.a.error("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),Y(we({},X,{newProfilePhoto:[]})),!1)},customRequest:function(){Y(we({},X,{loading:!0}));var e=new FormData;e.append("api_key","584136724691346"),e.append("timestamp",Date.now()/1e3),e.append("upload_preset","p9jvf6ai"),e.append("file",X.newProfilePhoto[0]),w.a.post("https://api.cloudinary.com/v1_1/dnnkqjrbi/image/upload",e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var t=e.data.secure_url;w.a.put("/api/managers",{id:C._id,superuser:"",image:t}).then(function(e){Y(we({},X,{loading:!1})),K(!H),I()}).catch(function(e){Y(we({},X,{loading:!1})),N(e)})}).catch(function(e){Y(we({},X,{loading:!1})),N(e)})},fileList:X.newProfilePhoto,showUploadList:!1,accept:"image/*"},r.a.createElement(g.a,{loading:X.loading,icon:"plus",type:"primary",style:{backgroundColor:"#2D2E2E",borderColor:"#2D2E2E",position:"absolute",bottom:2,left:2}}," Adicionar Imagem "))))),r.a.createElement(E.a.Item,{label:"Nome"},a("name",{initialValue:C.name,rules:[{required:!0,message:"Por favor, insira um nome!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Seu Nome"}))),r.a.createElement(E.a.Item,{label:"Email"},a("email",{initialValue:C.email,rules:[{required:!0,message:"Por favor, digite um email!"},{type:"email",message:"Por favor, digite um email v\xe1lido!"},{validator:function(e,t,a){t&&z[z.map(function(e){return e.email}).indexOf(t)]&&t!==C.email?a("Email j\xe1 Cadastrado!"):a()}}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"mail",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"nome@exemplo.com",style:{fontSize:13}}))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:J,style:{marginRight:8}}," Limpar "),r.a.createElement(g.a,{loading:U,type:"primary",htmlType:"submit",size:"default"}," Salvar "))):r.a.createElement(E.a,{onSubmit:function(e){_(!0),e.preventDefault(),l(["password","confirmPassword"],function(e,t){if(e)_(!1);else{var a=t.password;w.a.put("/api/managers",{id:C._id,password:a,superuser:""}).then(function(e){K(!H),_(!1),I()}).catch(function(e){_(!1),N(e)})}})}},r.a.createElement(b.a,{gutter:16},r.a.createElement(Q.a,{xs:18,sm:12},r.a.createElement(E.a.Item,{label:"Senha"},a("password",{initialValue:"",rules:[{required:!0,message:"Por favor, insira uma senha!"},{min:8,message:"Por favor, insira uma senha maior que 7!"},{validator:function(e,t,a){t&&o("confirmPassword")&&l(["confirmPassword"],{force:!0}),a()}}]})(r.a.createElement(y.a.Password,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"senha",style:{fontSize:13}})))),r.a.createElement(Q.a,{xs:18,sm:12},r.a.createElement(E.a.Item,{label:"Confirmar Senha"},a("confirmPassword",{initialValue:"",rules:[{required:!0,message:"Por favor, confirme sua senha!"},{min:8,message:"Por favor, insira uma senha maior que 7!"},{validator:function(e,t,a){t&&t!==o("password")?a("Senhas Incompat\xedveis!"):a()}}]})(r.a.createElement(y.a.Password,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"senha",style:{fontSize:13}}))))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:J,style:{marginRight:8}}," Limpar "),r.a.createElement(g.a,{loading:U,type:"primary",htmlType:"submit",size:"default"}," Salvar ")))))))}),Ce=(a(596),a(335)),Te=(a(320),a(181)),xe=a(329);a(696);function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ie=D.a.Title,Ne=D.a.Text,Fe=D.a.Paragraph,ze=y.a.TextArea,Re=y.a.Search,Le=Te.a.RangePicker,Me=E.a.create({name:"event_form"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.validateFields,o=t.setFieldsValue,l=t.resetFields,c=t.getFieldValue,m=Object(n.useState)(!0),s=Object(O.a)(m,2),u=s[0],d=s[1],v=Object(n.useState)([]),D=Object(O.a)(v,2),j=D[0],k=D[1],P=Object(n.useState)([]),C=Object(O.a)(P,2),T=C[0],x=C[1],S=Object(n.useState)({eventID:"",loading:!1,visibility:!1}),A=Object(O.a)(S,2),F=A[0],z=A[1],R=Object(n.useState)(!1),L=Object(O.a)(R,2),M=L[0],X=L[1];Object(n.useEffect)(function(){d(!0),w.a.get("/api/events").then(function(e){d(!1),k(e.data),x(e.data)}).catch(function(e){d(!1),N(e)})},[M]);var Y=function(){l(["name","date","allDay","description","color"]),z(Ae({},F,{eventID:"",loading:!1,visibility:!1}))},B=function(e){U.a.confirm({title:"Deseja realmente apagar este evento?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){w.a.delete("/api/events/".concat(e._id)).then(function(e){I(),X(!M)}).catch(function(e){N(e)})},onCancel:function(){}})};return r.a.createElement(pe,{page:"calendario",loading:u,title:"Gerenciamento de Eventos",breadcrumb:["Calend\xe1rio"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Eventos Cadastrados"),extra:r.a.createElement(g.a,{type:"primary",icon:"plus",onClick:function(){z(Ae({},F,{eventID:"",visibility:!0}))}}," Adicionar Evento ")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(Re,{placeholder:"Pesquise por nome ou descri\xe7\xe3o do evento",onChange:function(e){return function(e){return x(j.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.description&&t.description.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Ce.a,{style:{marginTop:50},dateCellRender:function(e){if(T.length>0){var t=p()(e);return r.a.createElement("ul",{style:{padding:0}},T.map(function(e){return t.isSameOrAfter(p()(e.initialDate),"day")&&t.isSameOrBefore(p()(e.finalDate),"day")?r.a.createElement(V.a,{key:e._id,placement:"topLeft",trigger:"click",overlayStyle:{zIndex:30},content:r.a.createElement("div",{style:{padding:10,width:400}},r.a.createElement(b.a,{style:{textAlign:"right",marginBottom:10}},r.a.createElement(h.a,{onClick:function(){return z(Ae({},F,{visibility:!0,eventID:(t=e)._id})),void o({name:t.name,date:[p()(t.initialDate),p()(t.finalDate)],allDay:t.allDay,description:t.description,color:{hex:t.color}});var t},className:"calendar-edit-event",style:{cursor:"pointer",marginRight:10},type:"edit"}),r.a.createElement(h.a,{onClick:function(){return B(e)},className:"calendar-delete-event",style:{cursor:"pointer"},type:"delete"})),r.a.createElement(b.a,null,r.a.createElement(Q.a,null,r.a.createElement(Ie,{level:4,style:{marginBottom:0,paddingBottom:6,borderBottom:"1px solid #E9E9E9",fontWeight:500}},e.name),r.a.createElement("div",{style:{height:10}}),r.a.createElement(Ne,null,r.a.createElement(h.a,{type:"calendar",style:{marginRight:5}})," ",0===p()(e.finalDate).diff(p()(e.initialDate),"days")?e.allDay?p()(e.initialDate).format("dddd, D MMMM"):"".concat(p()(e.initialDate).format("dddd, D MMMM")," \u2802").concat(p()(e.initialDate).format("HH:mm")," - ").concat(p()(e.finalDate).format("HH:mm")):e.allDay?"".concat(p()(e.initialDate).format("D")," - ").concat(p()(e.finalDate).format("D")," de ").concat(p()(e.finalDate).format("MMMM")," de ").concat(p()(e.finalDate).format("YYYY")):"".concat(p()(e.initialDate).format("D MMMM YYYY, HH:mm")," - ").concat(p()(e.finalDate).format("D MMMM YYYY, HH:mm"))),r.a.createElement("div",{style:{height:10}}),r.a.createElement(Ne,null,e.description?r.a.createElement(h.a,{type:"align-left",style:{marginRight:5}}):null," ",e.description))))},r.a.createElement(Fe,{ellipsis:!0,style:{fontSize:11,cursor:"pointer !important",marginBottom:0,marginTop:0}},r.a.createElement(ae.a,{size:8,style:{backgroundColor:e.color,verticalAlign:"baseline",marginRight:5}}),p()(e.initialDate).isSame(p()(e.finalDate),"day")?e.name:"".concat(e.name," (Dia ").concat(p()(e.finalDate).diff(p()(e.initialDate),"days")-p()(e.finalDate).endOf("day").diff(t,"days")+1," - ").concat(p()(e.finalDate).diff(p()(e.initialDate),"days")+1,")"))):null}))}return r.a.createElement("span",null)}})),r.a.createElement(U.a,{visible:F.visibility,onCancel:Y,footer:null},r.a.createElement(Fe,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",F.eventID?"Editar Evento":"Novo Evento"," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:F.eventID?"edit":"plus"})),r.a.createElement(E.a,{onSubmit:F.eventID?function(e){z(Ae({},F,{loading:!0})),e.preventDefault(),i(["name","date","allDay","description","color"],function(e,t){if(e)z(Ae({},F,{loading:!0}));else{var a=t.name,n=t.date,r=t.allDay,i=t.description,o=t.color;w.a.put("/api/events",{id:F.eventID,name:a,initialDate:n[0],finalDate:n[1],allDay:r,description:i,color:o.hex}).then(function(e){X(!M),Y(),I()}).catch(function(e){Y(),N(e)})}})}:function(e){z(Ae({},F,{loading:!0})),e.preventDefault(),i(["name","date","allDay","description","color"],function(e,t){if(e)z(Ae({},F,{loading:!1}));else{var a=t.name,n=t.date,r=t.allDay,i=t.description,o=t.color;w.a.post("/api/events",{name:a,initialDate:n[0],finalDate:n[1],allDay:r,description:i,color:o.hex}).then(function(e){X(!M),Y(),I()}).catch(function(e){Y(),N(e)})}})}},r.a.createElement(E.a.Item,{label:"Nome do Evento"},a("name",{rules:[{required:!0,whitespace:!0,message:"Por favor, insira um nome!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.25)"}}),placeholder:"Nome"}))),r.a.createElement(E.a.Item,{style:{marginBottom:5},label:"Data do Evento"},a("date",{initialValue:[p()(),p()()],rules:[{required:!0,message:"Por favor, insira uma data!"},{validator:function(e,t,a){t&&t[0].isAfter(t[1])?a("Data Inicial deve ser menor que Data Final"):a()}}]})(r.a.createElement(Le,{separator:"---",showTime:!c("allDay"),style:{width:"100%"},placeholder:"Data",format:c("allDay")?"DD/MM/YYYY":"DD/MM/YYYY - HH:mm",allowClear:!1}))),a("allDay",{valuePropName:"checked",initialValue:!0})(r.a.createElement(H.a,{style:{marginBottom:25}}," Dia Inteiro ")),r.a.createElement(E.a.Item,{label:"Cor"},a("color",{rules:[{required:!0,message:"Por favor, insira uma data!"}]})(r.a.createElement(xe.TwitterPicker,{color:c("color"),onChangeComplete:function(e){return o({color:e})},triangle:"hide",colors:["#FF5154","#FA8231","#FFF460","#00AD45","#5ECC62","#2F80ED","#B3DCFF","#A55EEA"]}))),r.a.createElement(E.a.Item,{label:"Descri\xe7\xe3o"},a("description")(r.a.createElement(ze,{rows:4,placeholder:"Descri\xe7\xe3o"}))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:Y,style:{marginRight:8}}," Cancelar "),r.a.createElement(g.a,{loading:F.loading,type:"primary",htmlType:"submit",size:"default"}," ",F.eventID?"Atualizar":"Criar"," ")))))}),Xe=(a(110),a(56)),Ye=(a(168),a(70));a(699);function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ue=Ye.a.Column,_e=D.a.Paragraph,We=y.a.Search,Ve=E.a.create({name:"form_form"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.setFieldsValue,o=t.resetFields,l=t.validateFields,c=Object(n.useState)(!0),m=Object(O.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)([]),v=Object(O.a)(d,2),D=v[0],j=v[1],k=Object(n.useState)([]),P=Object(O.a)(k,2),C=P[0],T=P[1],x=Object(n.useState)({formID:"",loading:!1,visibility:!1}),S=Object(O.a)(x,2),A=S[0],F=S[1],z=Object(n.useState)(!1),R=Object(O.a)(z,2),L=R[0],M=R[1];Object(n.useEffect)(function(){u(!0),w.a.get("/api/forms").then(function(e){u(!1),j(e.data),T(e.data)}).catch(function(e){u(!1),N(e)})},[L]);var X=function(){o(["link","expireDate"]),F(qe({},A,{formID:"",loading:!1,visibility:!1}))};return r.a.createElement(pe,{page:"formulario",loading:s,title:"Gerenciamento de Formul\xe1rios",breadcrumb:["Gerenciamento","Formul\xe1rio"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Formul\xe1rios Cadastrados"),extra:r.a.createElement(g.a,{type:"primary",icon:"plus",onClick:function(){F(qe({},A,{formID:"",visibility:!0}))}}," Adicionar Formul\xe1rio ")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(We,{placeholder:"Pesquise por nome ou descri\xe7\xe3o",onChange:function(e){return function(e){return T(D.filter(function(t){return t.title.toLowerCase().includes(e.target.value.toLowerCase())||t.description.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Ye.a,{locale:{emptyText:"N\xe3o h\xe1 formul\xe1rios."},dataSource:C,scroll:{x:600},rowKey:function(e){return e._id}},r.a.createElement(Ue,{title:"T\xedtulo",key:"title",dataIndex:"title",sorter:function(e,t){return e.title&&t.title?e.title.toLowerCase().localeCompare(t.title.toLowerCase()):1}}),r.a.createElement(Ue,{align:"right",title:"Data Expira\xe7\xe3o",key:"expireDate",dataIndex:"expireDate",sorter:function(e,t){return p()(e.expireDate).isBefore(p()(t.expireDate),"day")?1:p()(e.expireDate).isAfter(p()(t.expireDate),"day")?-1:0},defaultSortOrder:"descend",render:function(e){return r.a.createElement("span",null," ",p()(e).format("DD")," de ",p()(e).format("MMMM")," de ",p()(e).format("YYYY")," ")}}),r.a.createElement(Ue,{align:"right",key:"_id",dataIndex:"_id",width:20,render:function(e,t){return r.a.createElement(Xe.a,{overlay:r.a.createElement($.a,null,r.a.createElement($.a.Item,null," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.link}," ",r.a.createElement(h.a,{type:"global"})," Ver Formul\xe1rio ")," "),r.a.createElement($.a.Item,{onClick:function(){return F(qe({},A,{visibility:!0,formID:(e=t)._id})),void i({link:e.link,expireDate:p()(e.expireDate)});var e}}," ",r.a.createElement(h.a,{type:"edit"})," Editar "),r.a.createElement($.a.Item,{onClick:function(){U.a.confirm({title:"Deseja realmente apagar este formul\xe1rio?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){!function(e){w.a.delete("/api/forms/".concat(e)).then(function(e){I(),M(!L)}).catch(function(e){N(e)})}(e)},onCancel:function(){}})}},r.a.createElement(h.a,{type:"delete"})," Excluir")),placement:"bottomRight"},r.a.createElement(h.a,{style:{cursor:"pointer"},type:"more"}))}}))),r.a.createElement(U.a,{visible:A.visibility,onCancel:X,footer:null},r.a.createElement(_e,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",A.formID?"Editar Formul\xe1rio":"Novo Formul\xe1rio"," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:A.formID?"edit":"plus"})),r.a.createElement(E.a,{onSubmit:A.formID?function(e){F(qe({},A,{loading:!0})),e.preventDefault(),l(["link","expireDate"],function(e,t){if(e)F(qe({},A,{loading:!0}));else{var a=t.link,n=t.expireDate,r=a.match(/([^/]+)(?=\/[^/]+\/?$)/g)[0];w.a.get("/api/forms/searchByLink/".concat(r)).then(function(e){var t=e.data,r=t.title,i=t.description;w.a.put("/api/forms",{id:A.formID,title:r,description:i,link:a,expireDate:n}).then(function(e){M(!L),X(),I()}).catch(function(e){X(),N(e)})}).catch(function(e){u(!1),N(e)})}})}:function(e){F(qe({},A,{loading:!0})),e.preventDefault(),l(["link","expireDate"],function(e,t){if(e)F(qe({},A,{loading:!0}));else{var a=t.link,n=t.expireDate,r=a.match(/([^/]+)(?=\/[^/]+\/?$)/g)[0];w.a.get("/api/forms/searchByLink/".concat(r)).then(function(e){var t=e.data,r=t.title,i=t.description;w.a.post("/api/forms",{title:r,description:i,link:a,expireDate:n}).then(function(e){M(!L),X(),I()}).catch(function(e){X(),N(e)})}).catch(function(e){u(!1),N(e)})}})}},r.a.createElement(E.a.Item,{label:"Link do Formul\xe1rio"},a("link",{rules:[{required:!0,message:"Por favor, insira um link!"},{validator:function(e,t,a){var n=t.match(/([^/]+)(?=\/[^/]+\/?$)/g)[0];w.a.get("/api/forms/searchByLink/".concat(n)).then(function(e){D[D.map(function(e){return e.link}).indexOf(t)]&&!A.formID||D[D.map(function(e){return e.link}).indexOf(t)]&&A.formID&&D[D.map(function(e){return e.link}).indexOf(t)].link!==t?a("Formul\xe1rio j\xe1 cadastrado."):a()}).catch(function(e){a("Link Inv\xe1lido.")})}}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"link",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Link do Google Forms"}))),r.a.createElement(E.a.Item,{label:"Data de Expira\xe7\xe3o"},a("expireDate",{initialValue:p()().add(1,"month"),rules:[{required:!0,message:"Por favor, insira uma data v\xe1lida!"}]})(r.a.createElement(Te.a,{disabledDate:function(e){return e&&e<p()().subtract(1,"day").endOf("day")},format:"DD/MM/YYYY"}))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:X,style:{marginRight:8}}," Cancelar "),r.a.createElement(g.a,{loading:A.loading,type:"primary",htmlType:"submit",size:"default"}," ",A.formID?"Atualizar":"Criar"," ")))))}),Ge=(a(226),a(71)),Qe=(a(232),a(77)),He=(a(702),a(334));a(704);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Je(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ze=D.a.Text,$e=D.a.Paragraph,et=y.a.Search,tt=E.a.create({name:"game_form"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.setFieldsValue,o=t.resetFields,l=t.validateFields,c=Object(n.useState)(!0),m=Object(O.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)([]),p=Object(O.a)(d,2),y=p[0],v=p[1],D=Object(n.useState)([]),j=Object(O.a)(D,2),k=j[0],P=j[1],C=Object(n.useState)({gameID:"",loading:!1,visibility:!1,games:[],fetching:!0}),T=Object(O.a)(C,2),x=T[0],S=T[1],A=Object(n.useState)(!1),F=Object(O.a)(A,2),z=F[0],R=F[1];Object(n.useEffect)(function(){u(!0),w.a.get("/api/games").then(function(e){u(!1),v(e.data),P(e.data)}).catch(function(e){u(!1),N(e)})},[z]);var L=function(){o(["game"]),S(Je({},x,{gameID:"",loading:!1,visibility:!1}))};return r.a.createElement(pe,{page:"jogos",loading:s,title:"Gerenciamento de Jogos",breadcrumb:["Gerenciamento","Jogos"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Jogos Cadastrados"),extra:r.a.createElement(g.a,{type:"primary",icon:"plus",onClick:function(){S(Je({},x,{gameID:"",visibility:!0}))}}," Adicionar Jogo ")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(et,{placeholder:"Pesquise por nome",onChange:function(e){return function(e){return P(y.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Qe.a,{size:"small",dataSource:k,grid:{gutter:32,xs:2,sm:3,md:4,lg:4,xl:6,xxl:4},renderItem:function(e){return r.a.createElement(Qe.a.Item,{className:"game-list-item",style:{height:"100%"}},r.a.createElement(ae.a,{shape:"square",style:{background:"url(".concat(e.image,") 10px 10px / calc(100% - 20px) no-repeat"),backgroundPositionY:"center"}}),r.a.createElement(b.a,{style:{textAlign:"left",height:100}},r.a.createElement(V.a,{content:e.name},r.a.createElement(Ze,{style:{overflow:"hidden",width:"100%",paddingRight:13,fontWeight:500},ellipsis:!0}," ",e.name," ")),r.a.createElement(V.a,{content:e.developer},r.a.createElement(Ze,{style:{overflow:"hidden",width:"100%",paddingRight:13,fontSize:13,marginTop:-20},type:"secondary",ellipsis:!0}," ",e.developer," ")),r.a.createElement(He.a,{allowHalf:!0,disabled:!0,style:{fontSize:14},defaultValue:parseFloat((.5*Math.round(e.score/.5)).toFixed(2))}),r.a.createElement(Xe.a,{overlay:r.a.createElement($.a,null,r.a.createElement($.a.Item,{onClick:function(){return S(Je({},x,{games:[{appId:(t=e).appId,icon:t.image,title:t.name}],fetching:!1,visibility:!0,gameID:t._id})),void i({game:t.appId});var t}}," ",r.a.createElement(h.a,{type:"edit"})," Editar "),r.a.createElement($.a.Item,{onClick:function(){U.a.confirm({title:"Deseja realmente apagar este jogo?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){var t;t=e._id,w.a.delete("/api/games/".concat(t)).then(function(e){I(),R(!z)}).catch(function(e){N(e)})},onCancel:function(){}})}},r.a.createElement(h.a,{type:"delete"})," Excluir")),placement:"topRight"},r.a.createElement(h.a,{style:{position:"absolute",right:0,top:0,cursor:"pointer"},type:"more"}))))}})),r.a.createElement(U.a,{visible:x.visibility,onCancel:L,footer:null},r.a.createElement($e,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",x.gameID?"Editar Jogo":"Novo Jogo"," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:x.gameID?"edit":"plus"})),r.a.createElement(E.a,{onSubmit:x.gameID?function(e){S(Je({},x,{loading:!0})),e.preventDefault(),l(["game"],function(e,t){e?S(Je({},x,{loading:!0})):w.a.get("/api/games/getById/".concat(t.game)).then(function(e){var t=e.data,a=t.title,n=t.appId,r=t.developer,i=t.url,o=t.scoreText,l=t.icon;w.a.put("/api/games",{id:x.gameID,appId:n,name:a,link:i,image:l,developer:r,score:o}).then(function(e){R(!z),L(),I()}).catch(function(e){L(),N(e)})})})}:function(e){S(Je({},x,{loading:!0})),e.preventDefault(),l(["game"],function(e,t){e?S(Je({},x,{loading:!0})):w.a.get("/api/games/getById/".concat(t.game)).then(function(e){var t=e.data,a=t.title,n=t.appId,r=t.developer,i=t.url,o=t.scoreText,l=t.icon;w.a.post("/api/games",{appId:n,name:a,link:i,image:l,developer:r,score:o}).then(function(e){R(!z),L(),I()}).catch(function(e){L(),N(e)})})})}},r.a.createElement(E.a.Item,{label:"Aplicativo"},a("game",{rules:[{required:!0,message:"Por favor, insira um nome!"},{validator:function(e,t,a){y[y.map(function(e){return e.appId}).indexOf(t)]?a("Jogo j\xe1 cadastrado."):a()}}]})(r.a.createElement(Ge.a,{notFoundContent:x.fetching?r.a.createElement(K.a,{size:"small"}):void 0,onSearch:function(e){S(Je({},x,{games:[],fetching:!0})),e.trim()&&w.a.get("/api/games/searchByLink/".concat(e)).then(function(e){S(Je({},x,{games:e.data,fetching:!1}))})},onChange:function(){return S(Je({},x,{fetching:!1}))},showSearch:!0,placeholder:"Procure Aplicativo pelo Nome",filterOption:function(e,t){return!0},showArrow:!1},x.games.map(function(e){return r.a.createElement(Ge.a.Option,{key:e.title,value:e.appId},r.a.createElement(ae.a,{size:20,shape:"square",src:e.icon})," \xa0",e.title)})))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:L,style:{marginRight:8}}," Cancelar "),r.a.createElement(g.a,{loading:x.loading,type:"primary",htmlType:"submit",size:"default"}," ",x.gameID?"Atualizar":"Criar"," ")))))});a(705);function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var rt=a(218),it=D.a.Text,ot=D.a.Paragraph,lt=y.a.Search,ct=y.a.TextArea,mt=E.a.create({name:"PrimerUpdate"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.setFieldsValue,o=t.resetFields,l=Object(n.useState)(!1),c=Object(O.a)(l,2),m=c[0],s=c[1],u=Object(n.useState)(!1),d=Object(O.a)(u,2),p=d[0],v=d[1],D=Object(n.useState)([]),j=Object(O.a)(D,2),k=j[0],P=j[1],C=Object(n.useState)([]),T=Object(O.a)(C,2),x=T[0],S=T[1],A=Object(n.useState)({filePhotos:[],loading:!1}),F=Object(O.a)(A,2),z=F[0],R=F[1],L=Object(n.useState)({residueID:"",visibility:!1,loading:!1,coordinates:{lat:-24.046,lng:-52.3838}}),M=Object(O.a)(L,2),X=M[0],Y=M[1],B=Object(n.useState)({visibility:!1,residue:""}),q=Object(O.a)(B,2),_=q[0],V=q[1];Object(n.useEffect)(function(){s(!0),w.a.get("/api/leavings/").then(function(e){P(e.data),S(e.data),s(!1)}).catch(function(e){s(!1),N(e)})},[p]);var G=function(){Y({loading:!1,visibility:!1,coordinates:{lat:-24.046,lng:-52.3838}}),R({filePhotos:[]}),o(["name","description"])};return r.a.createElement(pe,{page:"cartilha",loading:m,title:"Gerenciamento de Res\xedduos",breadcrumb:["Gerenciamento","Cartilha"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"container",style:{marginRight:6,color:"#00AD45"}})," Res\xedduos Cadastrados"),extra:r.a.createElement(g.a,{onClick:function(){return Y(nt({},X,{residueID:"",visibility:!0}))},type:"primary",icon:"plus"}," Adicionar Res\xedduo ")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(lt,{placeholder:"Pesquise por nome ou descri\xe7\xe3o",onChange:function(e){return function(e){return S(k.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.description.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Qe.a,{itemLayout:"vertical",size:"large",dataSource:x,renderItem:function(e){return r.a.createElement(Qe.a.Item,{key:e._id},r.a.createElement(b.a,null,r.a.createElement(g.a.Group,{style:{fontSize:17,position:"absolute",right:0,top:0}},r.a.createElement(g.a,{style:{backgroundColor:"#FFFFFF",color:"#2F80ED",borderColor:"#2F80ED"},onClick:function(){return function(e){return V({visibility:!0,residue:e})}(e)},size:"small",icon:"eye"}),r.a.createElement(Xe.a,{overlay:r.a.createElement($.a,null,r.a.createElement($.a.Item,{onClick:function(){return function(e){Y(nt({},k,{residueID:e._id,visibility:!0,coordinates:{lat:e.latitude,lng:e.longitude}})),R({filePhotos:[{uid:e._id,name:e.name,url:e.image,response:{status:"success"},linkProps:{download:"image"},thumbUrl:e.image}]}),i({name:e.name,description:e.description})}(e)}}," ",r.a.createElement(h.a,{type:"edit"})," Editar "),r.a.createElement($.a.Item,{onClick:function(){U.a.confirm({title:"Deseja realmente apagar este res\xedduo?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){var t;t=e._id,w.a.delete("/api/leavings/".concat(t)).then(function(e){I(),v(!p)}).catch(function(e){N(e)})},onCancel:function(){}})}},r.a.createElement(h.a,{type:"delete"})," Excluir")),placement:"bottomRight"},r.a.createElement(g.a,{size:"small",style:{backgroundColor:"#FFFFFF",color:"#2D2E2E",borderColor:"#2D2E2E65"},icon:"more"})))),r.a.createElement(Qe.a.Item.Meta,{style:{marginBottom:0},className:"card-list-users-web",avatar:r.a.createElement(ae.a,{className:"avatar-contain",shape:"square",size:80,src:e.image}),title:r.a.createElement(it,{strong:!0}," ",e.name," "),description:r.a.createElement(ot,{type:"secondary",ellipsis:{rows:1,expandable:!0},style:{width:"100%"}}," ",e.description," ")}))}})),r.a.createElement(U.a,{className:"modal-map",visible:X.visibility,onCancel:G,footer:null},r.a.createElement(ot,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",X.residueID?"Editar Res\xedduo":"Novo Res\xedduo"," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:X.residueID?"edit":"plus"})),r.a.createElement(E.a,{onSubmit:X.residueID?function(t){Y(nt({},X,{loading:!0})),t.preventDefault(),e.form.validateFields(["name","description"],function(e,t){if(e)Y(nt({},X,{loading:!1}));else{var a=t.name,n=t.description;w.a.put("/api/leavings/",{id:X.residueID,name:a,description:n,latitude:X.coordinates.lat,longitude:X.coordinates.lng,image:0===z.filePhotos.length?void 0:z.filePhotos[0].url}).then(function(){v(!p),G(),I()}).catch(function(e){G(),N(e)})}})}:function(t){Y(nt({},X,{loading:!0})),t.preventDefault(),e.form.validateFields(["name","description"],function(e,t){if(e)Y(nt({},X,{loading:!1}));else{var a=t.name,n=t.description;w.a.post("/api/leavings/",{name:a,description:n,latitude:X.coordinates.lat,longitude:X.coordinates.lng,image:0===z.filePhotos.length?void 0:z.filePhotos[0].url}).then(function(){G(),v(!p),I()}).catch(function(e){N(e)})}})}},r.a.createElement(E.a.Item,{label:"T\xedtulo"},a("name",{rules:[{required:!0,message:"Por favor, insira um t\xedtulo!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"font-size",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Insira o t\xedtulo"}))),r.a.createElement(E.a.Item,{label:"Descri\xe7\xe3o"},a("description",{rules:[{required:!0,message:"Por favor, digite uma descri\xe7\xe3o!"}]})(r.a.createElement(ct,{prefix:r.a.createElement(h.a,{type:"text",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Digite uma descri\xe7\xe3o",style:{fontSize:13},rows:5}))),r.a.createElement(E.a.Item,null,r.a.createElement(ve.a,{beforeUpload:function(e){return"image/jpeg"===e.type||"image/png"===e.type?(R(nt({},z,{filePhotos:[e]})),!0):(N("Extens\xe3o Inv\xe1lida! Permitido apenas imagens"),!1)},customRequest:function(){return function(e){R(nt({},z,{loading:!0}));var t=new FormData;t.append("api_key","584136724691346"),t.append("timestamp",Date.now()/1e3),t.append("upload_preset","p9jvf6ai"),t.append("file",z.filePhotos[0]),w.a.post("https://api.cloudinary.com/v1_1/dnnkqjrbi/image/upload",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(e){var t=e.data.secure_url;R({filePhotos:[{uid:z.filePhotos[0].uid,name:z.filePhotos[0].name,response:{status:"success"},linkProps:{download:"image"},url:t,thumbUrl:t}],loading:!1}),v(!p)}).catch(function(e){R(nt({},z,{loading:!1})),N(e)})}(X.residueID)},fileList:z.filePhotos,listType:"picture",showUploadList:!z.loading,accept:"image/*",onRemove:function(){return R(nt({},z,{filePhotos:[]}))},className:"upload-list-inline"},r.a.createElement(g.a,{loading:z.loading,icon:X.residueID?"edit":"plus"}," ",X.residueID?"Editar Imagem":"Adicionar Imagem"," "))),r.a.createElement(b.a,{style:{height:"30vh",width:"100%",marginBottom:20}},r.a.createElement(ge.a,{bootstrapURLKeys:{key:"AIzaSyAwDqlhR0aPR6lYhzkE2nWdUz6ufbzStLk"},center:X.coordinates,defaultZoom:15,onClick:function(e){e.x,e.y;var t=e.lat,a=e.lng;e.event;return Y(nt({},X,{coordinates:{lat:t,lng:a}}))}},r.a.createElement(b.a,{lat:X.coordinates.lat,lng:X.coordinates.lng},r.a.createElement("img",{src:rt,className:"img-icon",alt:"pinMap"})))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:G,style:{marginRight:8}}," Cancelar "),r.a.createElement(g.a,{loading:X.loading,type:"primary",htmlType:"submit",size:"default"}," ",X.residueID?"Atualizar":"Criar"," ")))),r.a.createElement(U.a,{className:"modal-map",visible:_.visibility,onCancel:function(){return V({visibility:!1,residue:""})},footer:null},r.a.createElement(ot,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",_.residue.name," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(ae.a,{className:"avatar-contain",size:30,src:_.residue.image})),r.a.createElement(ot,null,_.residue.description),r.a.createElement(b.a,{style:{height:"30vh",width:"100%"}},r.a.createElement(ge.a,{bootstrapURLKeys:{key:"AIzaSyAwDqlhR0aPR6lYhzkE2nWdUz6ufbzStLk"},center:{lat:_.residue.latitude,lng:_.residue.longitude},defaultZoom:15},r.a.createElement("img",{src:rt,lat:_.residue.latitude,lng:_.residue.longitude,className:"img-icon",alt:"pinMap"})))))});a(706);function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?st(a,!0).forEach(function(t){Object(De.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var dt=y.a.Search,pt=D.a.Text,ft=D.a.Paragraph,gt=E.a.create({name:"memberSignIn"})(function(e){var t=e.form,a=t.getFieldDecorator,i=t.setFieldsValue,o=t.resetFields,l=t.getFieldValue,c=t.validateFields,m=Object(n.useState)(!0),s=Object(O.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)([]),v=Object(O.a)(p,2),D=v[0],j=v[1],k=Object(n.useState)([]),P=Object(O.a)(k,2),C=P[0],T=P[1],A=Object(n.useState)({adminID:"",loading:!1,visibility:!1}),F=Object(O.a)(A,2),z=F[0],R=F[1],L=Object(n.useState)(!1),M=Object(O.a)(L,2),X=M[0],Y=M[1];Object(n.useEffect)(function(){d(!0),w.a.get("/api/managers/").then(function(e){j(e.data),T(e.data),d(!1)}).catch(function(e){d(!1),N(e)})},[X]);var B=function(){o(["name","email","password","confirmPassword"]),R(ut({},z,{adminID:"",loading:!1,visibility:!1}))},q=function(e){var t=!e.superuser;w.a.put("/api/managers/",{id:e._id,superuser:t}).then(function(){I(),Y(!X)}).catch(function(e){N(e)})};return r.a.createElement(pe,{page:"web",loading:u,title:"Gerenciamento de Usu\xe1rios Web",breadcrumb:["Gerenciamento","Usu\xe1rios","Web"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"container",style:{marginRight:6,color:"#00AD45"}})," Usu\xe1rios Cadastrados"),extra:"true"===x()?r.a.createElement(g.a,{type:"primary",icon:"plus",onClick:function(){R(ut({},z,{adminID:"",visibility:!0}))}}," Adicionar Usu\xe1rio "):null},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(dt,{placeholder:"Pesquise por nome ou email",onChange:function(e){return function(e){return T(D.filter(function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.email.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Qe.a,{itemLayout:"vertical",size:"large",dataSource:C,renderItem:function(e){return r.a.createElement(Qe.a.Item,{key:e._id},r.a.createElement(b.a,null,e._id!==S()?r.a.createElement(g.a.Group,{style:{fontSize:17,position:"absolute",right:0,top:0}},!1===e.superuser?r.a.createElement(V.a,{placement:"left",content:"Tornar Administrador"},r.a.createElement(g.a,{style:{backgroundColor:"#FFFFFF",color:"#5ECC62",borderColor:"#5ECC62"},size:"small",onClick:function(){return q(e)},icon:"vertical-align-top"})):r.a.createElement(V.a,{placement:"left",content:"Retirar Administra\xe7\xe3o"},r.a.createElement(g.a,{style:{backgroundColor:"#FFFFFF",color:"#FF5154",borderColor:"#FF5154"},size:"small",onClick:function(){return q(e)},icon:"vertical-align-bottom"})),r.a.createElement(Xe.a,{overlay:r.a.createElement($.a,null,r.a.createElement($.a.Item,{onClick:function(){return R(ut({},z,{visibility:!0,adminID:(t=e)._id})),void i({name:t.name,email:t.email});var t}}," ",r.a.createElement(h.a,{type:"edit"})," Editar "),r.a.createElement($.a.Item,{onClick:function(){U.a.confirm({title:"Deseja realmente apagar este usu\xe1rio?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){var t;t=e._id,w.a.delete("/api/managers/".concat(t)).then(function(e){I(),Y(!X)}).catch(function(e){N(e)})},onCancel:function(){}})}},r.a.createElement(h.a,{type:"delete"})," Excluir")),placement:"bottomRight"},r.a.createElement(g.a,{size:"small",style:{backgroundColor:"#FFFFFF",color:"#2D2E2E",borderColor:"#2D2E2E65"},icon:"more"}))):null),r.a.createElement(Qe.a.Item.Meta,{style:{marginBottom:0},className:"card-list-users-web",avatar:e.superuser?r.a.createElement(Oe.a,{count:r.a.createElement(V.a,{placement:"right",content:"Administrador"}," ",r.a.createElement(h.a,{type:"star",theme:"filled",style:{color:"#FFFFFF",background:"#2F80ED",borderRadius:"50%",padding:5}})," ")},r.a.createElement(ae.a,{shape:"square",size:80,src:e.image})):r.a.createElement(ae.a,{shape:"square",size:80,src:e.image}),title:r.a.createElement(pt,{strong:!0}," ",e.name," "),description:r.a.createElement(pt,{type:"secondary",ellipsis:!0,style:{width:"100%"}}," ",e.email," ")}))}})),r.a.createElement(U.a,{visible:z.visibility,onCancel:B,footer:null},r.a.createElement(ft,{style:{fontSize:30,textAlign:"center",marginBottom:5}}," ",z.adminID?"Editar Usu\xe1rio":"Novo Usu\xe1rio"," "),r.a.createElement(W.a,{style:{fontSize:20,minWidth:"60%",width:"60%",marginTop:0,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(h.a,{type:z.adminID?"edit":"plus"})),r.a.createElement(E.a,{onSubmit:z.adminID?function(t){R(ut({},z,{loading:!0})),t.preventDefault(),e.form.validateFields(["name","email"],function(e,t){if(e)R(ut({},z,{loading:!1}));else{var a=t.name,n=t.email,r=t.password;w.a.put("/api/managers/",{id:z.adminID,email:n,name:a,superuser:"",password:r}).then(function(){Y(!X),B(),I()}).catch(function(e){B(),N(e)})}})}:function(t){R(ut({},z,{loading:!0})),t.preventDefault(),e.form.validateFields(["name","email","password","confirmPassword"],function(e,t){if(e)R(ut({},z,{loading:!1}));else{var a=t.name,n=t.email,r=t.password;w.a.post("/api/managers/",{email:n,name:a,password:r}).then(function(){Y(!X),B(),I()}).catch(function(e){B(),N(e)})}})}},r.a.createElement(E.a.Item,{label:"Nome"},a("name",{rules:[{required:!0,message:"Por favor, insira um nome!"}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"user",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"Seu Nome"}))),r.a.createElement(E.a.Item,{label:"Email"},a("email",{rules:[{required:!0,message:"Por favor, digite um email!"},{type:"email",message:"Por favor, digite um email v\xe1lido!"},{validator:function(e,t,a){t&&D[D.map(function(e){return e.email}).indexOf(t)]&&!z.adminID||t&&z.adminID&&D[D.map(function(e){return e.email}).indexOf(t)]&&D[D.map(function(e){return e._id}).indexOf(z.adminID)].email!==t?a("Email j\xe1 Cadastrado!"):a()}}]})(r.a.createElement(y.a,{prefix:r.a.createElement(h.a,{type:"mail",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"nome@exemplo.com",style:{fontSize:13}}))),z.adminID?null:r.a.createElement(b.a,{gutter:16},r.a.createElement(Q.a,{span:12},r.a.createElement(E.a.Item,{label:"Senha"},a("password",{rules:[{required:!0,message:"Por favor, insira uma senha!"},{min:8,message:"Por favor, insira uma senha maior que 7!"},{validator:function(e,t,a){t&&l("confirmPassword")&&c(["confirmPassword"],{force:!0}),a()}}]})(r.a.createElement(y.a.Password,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"senha",style:{fontSize:13}})))),r.a.createElement(Q.a,{span:12},r.a.createElement(E.a.Item,{label:"Confirmar Senha"},a("confirmPassword",{rules:[{required:!0,message:"Por favor, confirme sua senha!"},{min:8,message:"Por favor, insira uma senha maior que 7!"},{validator:function(e,t,a){t&&t!==l("password")?a("Senhas Incompat\xedveis!"):a()}}]})(r.a.createElement(y.a.Password,{prefix:r.a.createElement(h.a,{type:"lock",style:{color:"rgba(0, 0, 0, .25)"}}),placeholder:"senha",style:{fontSize:13}}))))),r.a.createElement(b.a,{style:{textAlign:"right"}},r.a.createElement(g.a,{size:"default",onClick:B,style:{marginRight:8}}," Cancelar "),r.a.createElement(g.a,{loading:z.loading,type:"primary",htmlType:"submit",size:"default"}," ",z.adminID?"Atualizar":"Criar"," ")))))}),Et=(a(707),Ye.a.Column),yt=function(e){var t=Object(n.useState)(!0),a=Object(O.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)([]),c=Object(O.a)(l,2),m=c[0],s=c[1];Object(n.useEffect)(function(){o(!0),w.a.get("/api/users").then(function(e){o(!1),s(e.data)}).catch(function(e){o(!1),N(e)})},[]);var u=function(e){var t=e.replace(/\D/g,"").substring(0,11);return t=(t=t.replace(/^(\d\d)(\d)/g,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2")},d=function(e){var t=e.replace(/\D/g,"").substring(0,11);return t=(t=(t=t.replace(/^(\d{3})(\d)/g,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1-$2")};return r.a.createElement(pe,{page:"app",loading:i,title:"Gerenciamento de Usu\xe1rios App",breadcrumb:["Gerenciamento","Usu\xe1rios","App"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Usu\xe1rios Cadastrados")},r.a.createElement(Ye.a,{locale:{emptyText:"N\xe3o h\xe1 usu\xe1rios."},dataSource:m,scroll:{x:960},rowKey:function(e){return e._id}},r.a.createElement(Et,{width:64,key:"image",dataIndex:"image",render:function(e){return r.a.createElement(ae.a,{src:e})}}),r.a.createElement(Et,{title:"T\xedtulo",key:"name",dataIndex:"name",sorter:function(e,t){return e.name&&t.name?e.name.toLowerCase().localeCompare(t.name.toLowerCase()):1},filterIcon:function(e){return r.a.createElement(h.a,{type:"search",style:{color:e?"#1890ff":void 0}})},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(y.a,{placeholder:"Pesquisar por nome",value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(g.a,{type:"primary",onClick:function(){t(a),n()},icon:"search",size:"small",style:{width:90,marginRight:8}},"Ok"),r.a.createElement(g.a,{onClick:i,size:"small",style:{width:90}},"Resetar"))},onFilter:function(e,t){return t.phone.toLowerCase().includes(e.toLowerCase())}}),r.a.createElement(Et,{title:"Telefone",key:"phone",dataIndex:"phone",filterIcon:function(e){return r.a.createElement(h.a,{type:"search",style:{color:e?"#1890ff":void 0}})},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(y.a,{placeholder:"Pesquisar por telefone",value:a[0],onChange:function(e){return t(e.target.value?[u(e.target.value)]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(g.a,{type:"primary",onClick:function(){t(a),n()},icon:"search",size:"small",style:{width:90,marginRight:8}},"Ok"),r.a.createElement(g.a,{onClick:i,size:"small",style:{width:90}},"Resetar"))},onFilter:function(e,t){return t.phone.toLowerCase().includes(e.toLowerCase())}}),r.a.createElement(Et,{title:"CPF",key:"cpf",dataIndex:"cpf",filterIcon:function(e){return r.a.createElement(h.a,{type:"search",style:{color:e?"#1890ff":void 0}})},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(y.a,{placeholder:"Pesquisar por CPF",value:a[0],onChange:function(e){return t(e.target.value?[d(e.target.value)]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(g.a,{type:"primary",onClick:function(){t(a),n()},icon:"search",size:"small",style:{width:90,marginRight:8}},"Ok"),r.a.createElement(g.a,{onClick:i,size:"small",style:{width:90}},"Resetar"))},onFilter:function(e,t){return t.cpf.toLowerCase().includes(e.toLowerCase())}}),r.a.createElement(Et,{title:"Tipo",key:"facebookID",dataIndex:"facebookID",render:function(e){return r.a.createElement(G.a,{color:e?"#4267B2":"#F7B731"}," ",e?"Facebook":"Normal"," ")},filters:[{text:"Facebook",value:"facebook"},{text:"Normal",value:"normal"}],onFilter:function(e,t){return t.facebookID&&"facebook"===e||!t.facebookID&&"normal"===e}}),r.a.createElement(Et,{align:"right",title:"Data Cria\xe7\xe3o",key:"createdAt",dataIndex:"createdAt",sorter:function(e,t){return p()(e.createdAt).isBefore(p()(t.createdAt),"day")?1:p()(e.createdAt).isAfter(p()(t.createdAt),"day")?-1:0},defaultSortOrder:"descend",render:function(e){return r.a.createElement("span",null," ",p()(e).format("DD [de] MMMM [de] YYYY")," ")}}))))},ht=(a(708),a(218)),bt=Ye.a.Column,vt=y.a.Search,Ot=D.a.Text,Dt=function(e){var t=[{value:"pending",color:"#2F80ED",label:"Pendente"},{value:"aproved",color:"#00AD45",label:"Aprovada"},{value:"reproved",color:"#EB3B5A",label:"Reprovada"}],a=Object(n.useState)(!0),i=Object(O.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)([]),m=Object(O.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)([]),E=Object(O.a)(d,2),v=E[0],D=E[1],j=Object(n.useState)([]),k=Object(O.a)(j,2),P=k[0],C=k[1],T=Object(n.useState)([]),x=Object(O.a)(T,2),S=x[0],A=x[1];Object(n.useEffect)(function(){l(!0),w.a.get("/api/categories").then(function(e){D(e.data)}),w.a.get("/api/users").then(function(e){C(e.data)}),w.a.get("/api/occurrences").then(function(e){l(!1),u(e.data),A(e.data)}).catch(function(e){l(!1),N(e)})},[]);return r.a.createElement(pe,{page:"home",loading:o,title:"Lista de Ocorr\xeancias",breadcrumb:["Ocorr\xeancias"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:"area-chart",style:{marginRight:6,color:"#00AD45"}})," Ocorr\xeancias Registradas")},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:24},r.a.createElement(vt,{placeholder:"Pesquise pelo id",onChange:function(e){return function(e){return A(s.filter(function(t){return t._id.toLowerCase().includes(e.target.value.toLowerCase())}))}(e)},size:"default"}))),r.a.createElement(Ye.a,{locale:{emptyText:"N\xe3o h\xe1 ocorr\xeancias."},dataSource:S,rowKey:function(e){return e._id},scroll:{x:1e3},expandedRowRender:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{type:"flex"},r.a.createElement("div",{style:{width:300,boxSizing:"border-box"}},r.a.createElement(_.a,null,e.photos.map(function(e){return r.a.createElement("img",{key:e,className:"image-carousel",alt:e,src:e})}),e.video&&r.a.createElement("video",{onClick:function(e){return e.target.play()},className:"image-carousel video"},r.a.createElement("source",{src:e.video,type:"video/mp4"})))),r.a.createElement(b.a,{style:{height:300,width:"calc(100% - 350px)",marginLeft:30}},r.a.createElement(ge.a,{bootstrapURLKeys:{key:"AIzaSyAwDqlhR0aPR6lYhzkE2nWdUz6ufbzStLk"},defaultCenter:{lat:parseFloat(e.location.latitude),lng:parseFloat(e.location.longitude)},defaultZoom:15},r.a.createElement("img",{src:ht,lat:e.location.latitude,lng:e.location.longitude,className:"img-icon",alt:"pinMap"})))),r.a.createElement("div",{style:{marginTop:50}},e.description&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ot,{strong:!0},"Descri\xe7\xe3o: "),r.a.createElement(Ot,null,e.description),r.a.createElement("br",null)),r.a.createElement(Ot,{strong:!0},"Endere\xe7o: "),r.a.createElement(Ot,null,e.location.address?"".concat(e.location.address,", "):"",e.location.number?"n\xba ".concat(e.location.number,". "):"",e.location.cep?"(".concat(e.location.cep,")"):""),e.location.referencePoint&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Ot,{strong:!0},"Refer\xeancia: "),r.a.createElement(Ot,null,e.location.referencePoint))))}},r.a.createElement(bt,{title:"#",key:"_id",dataIndex:"_id",render:function(e){return e.substring(12)}}),r.a.createElement(bt,{align:"right",title:"Usu\xe1rio",key:"user",dataIndex:"user",filterIcon:function(e){return r.a.createElement(h.a,{type:"search",style:{color:e?"#1890ff":void 0}})},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(y.a,{placeholder:"Pesquisar usu\xe1rio",value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(g.a,{type:"primary",onClick:function(){t(a),n()},icon:"search",size:"small",style:{width:90,marginRight:8}},"Pesquisar"),r.a.createElement(g.a,{onClick:i,size:"small",style:{width:90}},"Resetar"))},onFilter:function(e,t){return P.length>0&&t.user&&P[P.map(function(e){return e._id}).indexOf(t.user)].name.toLowerCase().includes(e.toLowerCase())},render:function(e){return e&&P.length>0?P[P.map(function(e){return e._id}).indexOf(e)].name:"---"}}),r.a.createElement(bt,{align:"right",title:"Categoria",key:"category",dataIndex:"category",render:function(e){return v.length>0?v[v.map(function(e){return e._id}).indexOf(e)].title:"---"},filters:v&&v.map(function(e){return{text:e.title,value:e._id}}),onFilter:function(e,t){return 0===t.category.indexOf(e)}}),r.a.createElement(bt,{align:"right",title:"Status",key:"status",dataIndex:"status",render:function(e){return r.a.createElement(G.a,{color:t[t.map(function(e){return e.value}).indexOf(e)].color}," ",t[t.map(function(e){return e.value}).indexOf(e)].label," ")},filters:t.map(function(e){return{text:e.label,value:e.value}}),onFilter:function(e,t){return 0===t.status.indexOf(e)}}),r.a.createElement(bt,{align:"right",title:"Data",key:"date",dataIndex:"date",sorter:function(e,t){return p()(e.date).isBefore(p()(t.date),"day")?1:p()(e.date).isAfter(p()(t.date),"day")?-1:0},defaultSortOrder:"descend",render:function(e){return r.a.createElement("span",null," ",p()(e).format("DD [de] MMMM [de] YYYY")," ")}}))))},jt=(a(240),a(130)),wt=a(332),kt=(a(316),Ye.a.Column),Pt=r.a.createContext(),Ct=function(e){return r.a.createElement(Pt.Consumer,null,function(t){var a=t.getFieldDecorator,n=e.editingKey,i=e.record,o=(e.index,e.children),l=Object(wt.a)(e,["editingKey","record","index","children"]);return r.a.createElement("td",l,n&&n===i._id?r.a.createElement(E.a.Item,{style:{margin:0}},a("title",{rules:[{required:!0,message:"Campo Obrigat\xf3rio"}],initialValue:i.title})(r.a.createElement(y.a,null))):o)})},Tt=E.a.create({name:"categories_form"})(function(e){var t=e.setLoadingPage,a=Object(n.useState)([]),i=Object(O.a)(a,2),o=i[0],l=i[1],c=Object(n.useState)(!1),m=Object(O.a)(c,2),s=m[0],u=m[1],d=Object(n.useState)(""),f=Object(O.a)(d,2),E=f[0],v=f[1];Object(n.useEffect)(function(){t(!0),w.a.get("/api/categories").then(function(e){l(e.data),t(!1)}).catch(function(e){t(!1),N(e)})},[s]);return r.a.createElement(Pt.Provider,{value:e.form},r.a.createElement(b.a,{gutter:24,type:"flex",justify:"end",style:{marginBottom:18}},r.a.createElement(Q.a,{sm:14,xs:20,style:{textAlign:"right"}},r.a.createElement(g.a,{onClick:function(){t(!0),w.a.post("/api/categories",{title:"Nova Categoria"}).then(function(e){I(),u(!s)}).catch(function(e){t(!1),N(e)})},type:"primary",icon:"plus"}," Nova Categoria "))),r.a.createElement(Ye.a,{locale:{emptyText:"N\xe3o h\xe1 categorias."},dataSource:o,scroll:{x:660},rowKey:function(e){return e._id},rowClassName:"editable-row",components:{body:{cell:Ct}}},r.a.createElement(kt,{title:"T\xedtulo",key:"title",dataIndex:"title",editable:!0,sorter:function(e,t){return e.title&&t.title?e.title.toLowerCase().localeCompare(t.title.toLowerCase()):1},onCell:function(e){return{record:e,editingKey:E}},filterIcon:function(e){return r.a.createElement(h.a,{type:"search",style:{color:e?"#1890ff":void 0}})},filterDropdown:function(e){var t=e.setSelectedKeys,a=e.selectedKeys,n=e.confirm,i=e.clearFilters;return r.a.createElement("div",{style:{padding:8}},r.a.createElement(y.a,{placeholder:"Pesquisar por t\xedtulo",value:a[0],onChange:function(e){return t(e.target.value?[e.target.value]:[])},style:{width:188,marginBottom:8,display:"block"}}),r.a.createElement(g.a,{type:"primary",onClick:function(){t(a),n()},icon:"search",size:"small",style:{width:90,marginRight:8}},"Ok"),r.a.createElement(g.a,{onClick:i,size:"small",style:{width:90}},"Resetar"))},onFilter:function(e,t){return t.title.toLowerCase().includes(e.toLowerCase())}}),r.a.createElement(kt,{align:"right",title:"Data Cria\xe7\xe3o",key:"createdAt",dataIndex:"createdAt",sorter:function(e,t){return p()(e.createdAt).isBefore(p()(t.createdAt),"day")?1:p()(e.createdAt).isAfter(p()(t.createdAt),"day")?-1:0},defaultSortOrder:"descend",render:function(e){return r.a.createElement("span",null," ",p()(e).format("DD [de] MMMM [de] YYYY")," ")}}),r.a.createElement(kt,{align:"right",key:"_id",dataIndex:"_id",width:E?71:20,render:function(e){return E&&E===e?r.a.createElement(b.a,{type:"flex"},r.a.createElement(Pt.Consumer,null,function(t){return r.a.createElement(V.a,{content:"Salvar"},r.a.createElement(h.a,{onClick:function(){return function(e,t){e.validateFields(function(e,a){e||w.a.put("/api/categories",{id:t,title:a.title}).then(function(e){I(),v(""),u(!s)}).catch(function(e){N(e)})})}(t,e)},type:"check",style:{marginRight:10,cursor:"pointer"},className:"icon-check-color"}))}),r.a.createElement(V.a,{content:"Cancelar"},r.a.createElement(h.a,{onClick:function(){return v("")},type:"close",style:{cursor:"pointer"},className:"icon-close-color"}))):r.a.createElement(Xe.a,{overlay:r.a.createElement($.a,null,r.a.createElement($.a.Item,{onClick:function(){return v(e)}}," ",r.a.createElement(h.a,{type:"edit"})," Editar "),r.a.createElement($.a.Item,{onClick:function(){U.a.confirm({title:"Deseja realmente apagar esta categoria?",content:"Esta a\xe7\xe3o \xe9 permanente, n\xe3o haver\xe1 forma de restaurar a\xe7\xe3o.",okType:"danger",onOk:function(){!function(e){w.a.delete("/api/categories/".concat(e)).then(function(e){I(),u(!s)}).catch(function(e){N(e)})}(e)},onCancel:function(){}})}},r.a.createElement(h.a,{type:"delete"})," Excluir")),placement:"bottomRight"},r.a.createElement(h.a,{style:{cursor:"pointer"},type:"more"}))}})))}),xt=function(e){var t=Object(n.useState)(!0),a=Object(O.a)(t,2),i=a[0],o=a[1],l=Object(n.useState)("0"),c=Object(O.a)(l,2),m=c[0],s=c[1],u=[{title:"Categorias",icon:"container",render:function(){return r.a.createElement(Tt,{setLoadingPage:o})}}];return r.a.createElement(pe,{page:"Configura\xe7\xf5es",loading:i,title:"Configura\xe7\xf5es",breadcrumb:["Configura\xe7\xf5es"]},r.a.createElement(f.a,{bordered:!1,className:"alert-card",style:{borderRadius:5},title:r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{type:u[m].icon,style:{marginRight:6,color:"#00AD45"}})," ",u[m].title),extra:r.a.createElement(jt.a,{className:"tabs-card",activeKey:m,onChange:function(e){return s(e)},type:"card"},u.map(function(e,t){return r.a.createElement(jt.a.TabPane,{tab:e.title,key:t})}))},u[m].render()))};a(709),a(710);w.a.defaults.baseURL="https://rio-campo-limpo.herokuapp.com/",p.a.locale("pt-BR");var St=function(){return r.a.createElement(l.c,{locale:u.a},r.a.createElement(c.a,null,r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/login",exact:!0,component:q}),r.a.createElement(m.b,{path:"/home",exact:!0,component:be}),r.a.createElement(m.b,{path:"/edit/profile",exact:!0,component:Pe}),r.a.createElement(m.b,{path:"/calendario",exact:!0,component:Me}),r.a.createElement(m.b,{path:"/formulario",exact:!0,component:Ve}),r.a.createElement(m.b,{path:"/jogos",exact:!0,component:tt}),r.a.createElement(m.b,{path:"/cartilha",exact:!0,component:mt}),r.a.createElement(m.b,{path:"/usuarios-web",exact:!0,component:gt}),r.a.createElement(m.b,{path:"/usuarios-app",exact:!0,component:yt}),r.a.createElement(m.b,{path:"/ocorrencias",exact:!0,component:Dt}),r.a.createElement(m.b,{path:"/configuracoes",exact:!0,component:xt}),r.a.createElement(m.b,{path:"/*",component:q}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(St,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[339,1,2]]]);
//# sourceMappingURL=main.ebe1ce51.chunk.js.map